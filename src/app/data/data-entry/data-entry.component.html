<div class="container my-5">
    <h1 class="dfrm-page-title text-center">CDMS Data Entry</h1>
    <form [formGroup]="activityForm">
        <app-button [label]="'printActivity'" (click)="printActivity()"></app-button>
        <app-button [label]="'RESET FORM'" (click)="resetForm()" [style]="btnStyle"></app-button>
        <div class="row align-items-center">
            <div class="col-6 offset-3">
                <ng-select formControlName='dataset' [items]="datasets" bindLabel="name" bindValue="id" 
                [required]="true" [placeholder]="'Select Dataset'" (change)="datasetChange($event)" [ngClass]="'my-2'" >
                </ng-select>
                <ng-select formControlName='project' [items]="projects" bindLabel="name"
                    bindValue="id" [required]="true" [placeholder]="'Select Project'" [ngClass]="'my-2'" >
                </ng-select>
                <input formControlName='date' [type]="'date'" class="form-control form-control-date" [required]="true"
                    [max]="today" [ngClass]="'my-2'" />
            </div>
        </div>
    </form>
    <div *ngIf="columnDefs">
        <br>
        <app-button [label]="'Add Row'" (click)="addRow()"></app-button>
        <app-button [label]="'Remove Selected Rows'" (click)="removeSelectedRows()"></app-button>
        <div class="container my-5" style="height: 600px;">
            <ag-grid-angular style="width: 100%; height: 100%;" class="ag-theme-quartz-dark" [columnDefs]="columnDefs"
                [defaultColDef]="defaultColDef" [rowData]="rowData" [rowSelection]="'multiple'" (gridReady)="onGridReady($event)"
                >
                <!-- singleClickEdit 
                 supressRowHoverHighlight
                 columnHoverHighlight 
                 animateRows
                 suppressCellFocus-->
            </ag-grid-angular>
        </div>
        <br>
        <div class="row align-items-center">
            <div class="col-3 offset-1">
                <app-button [label]="'Submit Activity'" (click)="submit()" [style]="btnStyle"
                    [disabled]="false"></app-button>
            </div>
        </div>
    </div>
</div>